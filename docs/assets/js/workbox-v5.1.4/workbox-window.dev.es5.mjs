try{self["workbox:window:5.1.4"]&&_()}catch{}function messageSW(e,t){return new Promise(function(n){var s=new MessageChannel;s.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[s.port2])})}function _defineProperties(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e=="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _createForOfIteratorHelperLoose(e,t){if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var n,s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}try{self["workbox:core:5.1.4"]&&_()}catch{}var logger,WorkboxEventTarget,WorkboxEvent,WAITING_TIMEOUT_DURATION,REGISTRATION_TIMEOUT_DURATION,Workbox,Deferred=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function dontWaitFor(e){e.then(function(){})}logger=function(){"__WB_DISABLE_DEV_LOGS"in self||(self.__WB_DISABLE_DEV_LOGS=!1);for(var e=!1,n={debug:"#7f8c8d",log:"#2ecc71",warn:"#f39c12",error:"#c0392b",groupCollapsed:"#3498db",groupEnd:null},i=function(s,o){if(self.__WB_DISABLE_DEV_LOGS)return;if(s==="groupCollapsed"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){(a=console)[s].apply(a,o);return}var i,a,r=["background: "+n[s],"border-radius: 0.5em","color: white","font-weight: bold","padding: 2px 0.5em"],c=e?[]:["%cworkbox",r.join(";")];(i=console)[s].apply(i,c.concat(o)),s==="groupCollapsed"&&(e=!0),s==="groupEnd"&&(e=!1)},s={},a=Object.keys(n),r=function(){var a=o[t],n=a;s[n]=function(){for(var t=arguments.length,s=new Array(t),e=0;e<t;e++)s[e]=arguments[e];i(n,s)}},t=0,o=a;t<o.length;t++)r();return s}(),WorkboxEventTarget=function(){function t(){this._eventListenerRegistry=new Map}var e=t.prototype;return e.addEventListener=function(t,n){var s=this._getEventListenersByType(t);s.add(n)},e.removeEventListener=function(t,n){this._getEventListenersByType(t).delete(n)},e.dispatchEvent=function(t){t.target=this;for(var n,i,s=this._getEventListenersByType(t.type),o=_createForOfIteratorHelperLoose(s);!(i=o()).done;)n=i.value,n(t)},e._getEventListenersByType=function(t){return this._eventListenerRegistry.has(t)||this._eventListenerRegistry.set(t,new Set),this._eventListenerRegistry.get(t)},t}();function urlsMatch(e,t){var s=location,n=s.href;return new URL(e,n).href===new URL(t,n).href}WorkboxEvent=function(t,n){this.type=t,Object.assign(this,n)};function _await(e,t,n){return n?t?t(e):e:((!e||!e.then)&&(e=Promise.resolve(e)),t?e.then(t):e)}WAITING_TIMEOUT_DURATION=200;function _async(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(e.apply(this,n))}catch(e){return Promise.reject(e)}}}REGISTRATION_TIMEOUT_DURATION=6e4;function _empty(){}Workbox=function(e){_inheritsLoose(n,e);function n(t,n){var s;return n===0[0]&&(n={}),s=e.call(this)||this,s._registerOptions={},s._updateFoundCount=0,s._swDeferred=new Deferred,s._activeDeferred=new Deferred,s._controllingDeferred=new Deferred,s._registrationTime=0,s._ownSWs=new Set,s._onUpdateFound=function(){var t=s._registration,e=t.installing,n=s._updateFoundCount>0||!urlsMatch(e.scriptURL,s._scriptURL)||performance.now()>s._registrationTime+REGISTRATION_TIMEOUT_DURATION;n?(s._externalSW=e,t.removeEventListener("updatefound",s._onUpdateFound)):(s._sw=e,s._ownSWs.add(e),s._swDeferred.resolve(e),navigator.serviceWorker.controller?logger.log("Updated service worker found. Installing now..."):logger.log("Service worker is installing...")),++s._updateFoundCount,e.addEventListener("statechange",s._onStateChange)},s._onStateChange=function(e){var r=s._registration,t=e.target,o=t.state,n=t===s._externalSW,a=n?"external":"",i={sw:t,originalEvent:e};switch(!n&&s._isUpdate&&(i.isUpdate=!0),s.dispatchEvent(new WorkboxEvent(a+o,i)),o==="installed"?s._waitingTimeout=self.setTimeout(function(){o==="installed"&&r.waiting===t&&(s.dispatchEvent(new WorkboxEvent(a+"waiting",i)),n?logger.warn("An external service worker has installed but is waiting for this client to close before activating..."):logger.warn("The service worker has installed but is waiting for existing clients to close before activating..."))},WAITING_TIMEOUT_DURATION):o==="activating"&&(clearTimeout(s._waitingTimeout),n||s._activeDeferred.resolve(t)),o){case"installed":n?logger.warn("An external service worker has installed. You may want to suggest users reload this page."):logger.log("Registered service worker installed.");break;case"activated":n?logger.warn("An external service worker has activated."):(logger.log("Registered service worker activated."),t!==navigator.serviceWorker.controller&&logger.warn("The registered service worker is active but not yet controlling the page. Reload or run `clients.claim()` in the service worker."));break;case"redundant":t===s._compatibleControllingSW?logger.log("Previously controlling service worker now redundant!"):n||logger.log("Registered service worker now redundant!");break}},s._onControllerChange=function(e){var t=s._sw;t===navigator.serviceWorker.controller&&(s.dispatchEvent(new WorkboxEvent("controlling",{sw:t,originalEvent:e,isUpdate:s._isUpdate})),logger.log("Registered service worker now controlling this page."),s._controllingDeferred.resolve(t))},s._onMessage=_async(function(e){var n=e.data,t=e.source;return _await(s.getSW(),function(){s._ownSWs.has(t)&&s.dispatchEvent(new WorkboxEvent("message",{data:n,sw:t,originalEvent:e}))})}),s._scriptURL=t,s._registerOptions=n,navigator.serviceWorker.addEventListener("message",s._onMessage),s}var t=n.prototype;return t.register=function(t){var n,o=t===0[0]?{}:t,s=o.immediate,i=s!==0[0]&&s;try{if(n=this,"dev"!=="production"&&n._registrationTime){logger.error("Cannot re-register a Workbox instance after it has been registered. Create a new instance instead.");return}return _invoke(function(){if(!i&&document.readyState!=="complete")return _awaitIgnored(new Promise(function(e){return window.addEventListener("load",e)}))},function(){return n._isUpdate=Boolean(navigator.serviceWorker.controller),n._compatibleControllingSW=n._getControllingSWIfCompatible(),_await(n._registerScript(),function(e){n._registration=e,n._compatibleControllingSW&&(n._sw=n._compatibleControllingSW,n._activeDeferred.resolve(n._compatibleControllingSW),n._controllingDeferred.resolve(n._compatibleControllingSW),n._compatibleControllingSW.addEventListener("statechange",n._onStateChange,{once:!0}));var s,t=n._registration.waiting;return t&&urlsMatch(t.scriptURL,n._scriptURL)&&(n._sw=t,dontWaitFor(Promise.resolve().then(function(){n.dispatchEvent(new WorkboxEvent("waiting",{sw:t,wasWaitingBeforeRegister:!0})),"dev"!=="production"&&logger.warn("A service worker was already waiting to activate before this script was registered...")}))),n._sw&&(n._swDeferred.resolve(n._sw),n._ownSWs.add(n._sw)),"dev"!=="production"&&(logger.log("Successfully registered service worker.",n._scriptURL),navigator.serviceWorker.controller&&(n._compatibleControllingSW?logger.debug("A service worker with the same script URL is already controlling this page."):logger.debug("A service worker with a different script URL is currently controlling the page. The browser is now fetching the new script now...")),s=function(){var t=new URL(n._registerOptions.scope||n._scriptURL,document.baseURI),s=new URL("./",t.href).pathname;return!location.pathname.startsWith(s)},s()&&logger.warn("The current page is not in scope for the registered service worker. Was this a mistake?")),n._registration.addEventListener("updatefound",n._onUpdateFound),navigator.serviceWorker.addEventListener("controllerchange",n._onControllerChange,{once:!0}),n._registration})})}catch(e){return Promise.reject(e)}},t.update=function(){try{var t=this;if(!t._registration){"dev"!=="production"&&logger.error("Cannot update a Workbox instance without being registered. Register the Workbox instance first.");return}return _awaitIgnored(t._registration.update())}catch(e){return Promise.reject(e)}},t.getSW=function(){try{var t=this;return t._sw!==0[0]?t._sw:t._swDeferred.promise}catch(e){return Promise.reject(e)}},t.messageSW=function(t){try{var n=this;return _await(n.getSW(),function(e){return messageSW(e,t)})}catch(e){return Promise.reject(e)}},t._getControllingSWIfCompatible=function(){var t=navigator.serviceWorker.controller;return t&&urlsMatch(t.scriptURL,this._scriptURL)?t:0[0]},t._registerScript=function(){try{var t=this;return _catch(function(){return _await(navigator.serviceWorker.register(t._scriptURL,t._registerOptions),function(e){return t._registrationTime=performance.now(),e})},function(e){throw"dev"!=="production"&&logger.error(e),e})}catch(e){return Promise.reject(e)}},_createClass(n,[{key:"active",get:function(){return this._activeDeferred.promise}},{key:"controlling",get:function(){return this._controllingDeferred.promise}}]),n}(WorkboxEventTarget);function _awaitIgnored(e,t){if(!t)return e&&e.then?e.then(_empty):Promise.resolve()}function _invoke(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function _catch(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(0[0],t):n}export{Workbox,messageSW}