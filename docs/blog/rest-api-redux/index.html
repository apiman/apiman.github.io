<!doctype html><html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="theme-color" content="rgb(61, 94, 129)">
<title>Apiman - The JBoss Apiman API Manager REST API</title>
<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/assets/manifest/icon-192x192.png">
<link rel="icon" type="image/png" href="/assets/manifest/icon-192x192.png">
<link rel="prefetch" href="/assets/styles/OpenSans.css" as="style">
<link rel="stylesheet" href="/assets/styles/OpenSans.css">
<link rel="stylesheet" href="/assets/styles/main.css?1754568806">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
<script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" crossorigin="anonymous" async></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous" async></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous" defer></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js" defer></script>
<title>The JBoss Apiman API Manager REST API | Apiman</title>
<meta name="generator" content="Jekyll v4.4.1">
<meta property="og:title" content="The JBoss Apiman API Manager REST API">
<meta name="author" content="Len DiMaggio">
<meta property="og:locale" content="en_US">
<meta name="description" content="In this, the third article in our series on apiman, JBoss' new open source API Management framework, we&#8217;ll examine apiman&#8217;s API Manager REST API. apiman&#8217;s Management UI utilizes this API in the implementation for all of its user-visible features, and you can also use the same API to automate tasks with apiman.">
<meta property="og:description" content="In this, the third article in our series on apiman, JBoss' new open source API Management framework, we&#8217;ll examine apiman&#8217;s API Manager REST API. apiman&#8217;s Management UI utilizes this API in the implementation for all of its user-visible features, and you can also use the same API to automate tasks with apiman.">
<link rel="canonical" href="https://www.apiman.io/blog/rest-api-redux/">
<meta property="og:url" content="https://www.apiman.io/blog/rest-api-redux/">
<meta property="og:site_name" content="Apiman">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-05-19T11:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="The JBoss Apiman API Manager REST API">
<meta name="twitter:site" content="@apiman_io">
<meta name="twitter:creator" content="@apiman_io">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Len DiMaggio","url":"https://github.com/ldimaggi"},"dateModified":"2015-05-19T11:00:00+00:00","datePublished":"2015-05-19T11:00:00+00:00","description":"In this, the third article in our series on apiman, JBoss&#39; new open source API Management framework, we&#8217;ll examine apiman&#8217;s API Manager REST API. apiman&#8217;s Management UI utilizes this API in the implementation for all of its user-visible features, and you can also use the same API to automate tasks with apiman.","headline":"The JBoss Apiman API Manager REST API","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.apiman.io/blog/rest-api-redux/"},"url":"https://www.apiman.io/blog/rest-api-redux/"}</script>
<meta name="article:tag" content="rest">
<meta name="og:article:tag" content="rest">
<meta name="article:tag" content="api">
<meta name="og:article:tag" content="api">
<meta name="article:tag" content="automation">
<meta name="og:article:tag" content="automation">
<meta name="google-site-verification" content="_ILllw-J_4eyz0StWadyFz0021teANtSNJsDeN9waPE">
</head>
<body onload=hljs.highlightAll()>
<div class="content">
<div class="container-fluid" id="apiman-navbar">
<nav class="mx-auto d-flex flex-wrap py-3 navbar navbar-dark navbar-expand-lg justify-content-between mw-1200">
<a href="/" title="Return To Home" class="d-flex align-items-center text-decoration-none">
<svg id="apiman-logo-mono" height="40" viewBox="0 0 3007 607" xmlns:xlink="http://www.w3.org/1999/xlink" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><title>Apiman Logo</title><path d="M950.593 49.784C912.432 18.245 856.743 2.48 783.472 2.48H590.53V606.5H718.611V391.678H773.556c74.918.0 132.695-17.211 173.312-51.657C987.505 305.6 1007.82 255.881 1007.82 190.874 1007.82 128.352 988.74 81.324 950.593 49.784zM849.172 263.381c-19.561 15.574-49.032 23.331-88.408 23.331H718.611V107.421h58.254C811.833 107.421 837.519 114.58 853.911 128.894c16.393 14.329 24.586 36.5 24.586 66.523C878.497 225.169 868.722 247.828 849.172 263.381z" style="fill:#fff;fill-rule:nonzero"/><rect x="1067.88" y="2.48" width="128.086" height="604.02" style="fill:#fff;fill-rule:nonzero"/><path d="M2891.35 288.379C2891.35 320.877 2894.64 454.873 2894.64 454.873L2632.3 2.485H2470.76V606.5H2585.2V322.263C2585.2 287.827 2581.08 149.569 2581.08 149.569L2843.82 606.5h162.79V2.48H2891.35V288.379z" style="fill:#fff;fill-rule:nonzero"/><path d="M2197.23.0l-272.6 522.385V2.48H1750.3L1598.67 464.367H1596.19L1453.25 2.48H1278.89V606.5h114.46V325.557C1393.35 293.339 1389.2 132.62 1389.2 132.62L1534.63 606.5h117.34l155.75-473.047S1806.28 256.287 1805.86 273.91C1805.45 291.552 1805.24 307.116 1805.24 320.611V606.5h220.51l71.04-143.78h175.83L2272.57 606.5h122.71V0H2197.23zM2272.63 355.314H2148.44s110.6-230.938 122.7-263.999L2272.62 91.114v264.2H2272.63z" style="fill:#fff;fill-rule:nonzero"/><g><path d="M232.295 605.909H231.954C235.79 599.873 243 588.017 243 588.017S239.187 511.071 251.92 486.886C258.215 474.935 278.992 465.334 286.143 453.883c21.335-34.166 55.394-100.06 55.849-135.831C342.271 296.622 315.216 236.601 315.216 236.601l-30.12 53.562S293.18 299.686 292.899 303.55C291.517 322.433 275.65 366.584 275.65 366.584L290.239 372.824 296.233 391.7S290.319 392.348 289.529 393.93C288.346 396.285 292.848 403.94 292.848 403.94s-24.53 12.222-31.302 7.839C253.397 406.503 255.467 388.988 252.699 370.732 248.078 340.298 242.052 305.47 242.194 304.662 242.94 300.475 250.919 290.124 250.919 290.124V277.89S258.861 162.927 272.622 156.259C280.207 152.583 323.184 153.171 367.242 159.971 367.242 159.971 370.882 153.309 370.067 151.138 368.683 147.455 356.599 143.007 356.599 143.007S350.341 109.116 365.717 95.974c14.541-12.433 47.494-1.095 48.087 9.67C415.299 132.837 415.77 164.829 425.529 173.442c16.408 14.483 36.629 17.223 44.936 27.432 18.545 22.797 17.006 75.628 15.843 116.481C486.199 321.226 494.259 326.459 494.838 330.288 496.722 342.747 495.393 369.033 491.632 390.896 488.61 408.472 484.019 423.188 478.267 425.563 471.651 428.295 450.493 418.587 450.493 418.587S454.521 411.782 453.47 409.681C452.771 408.279 447.523 407.696 447.523 407.696L451.621 391.815 462.415 385.867l-8.178-38.835c-11.407 55.937-20.948 79.243-23.681 106.342C430.101 457.913 431.879 467.104 431.255 471.638c-3.721 27.091-26.722 110.905-26.724 110.902L453.427 605.908H452.482L453.429 606.022H530.714v-604H315.762L0 606.022H231.956L232.295 605.909zm37.855.0L270.453 606.022h97.835L368.772 605.908H368.286C369.049 597.795 381.047 581.375 381.047 581.375S371.94 503.682 373.669 495.93C375.749 486.607 390.409 472.115 392.798 462.875 396.744 447.618 391.63 399.847 391.63 399.847s-47.929 55.921-65.256 73.299C323.367 476.164 316.245 481.132 313.67 484.525c-18.087 23.74-51.163 99.044-51.163 99.044L270.451 605.909H270.15z" style="fill:#fff;fill-rule:nonzero"/><path d="M389.514 302.191S397.258 254.837 397.748 238.79C398.112 226.915 393.05 191.501 393.05 191.501L384.498 173.894S391.428 173.076 396.75 173.894C401.69 174.654 406.131 177.412 406.131 177.412L396.071 190.997s13.886 36.203 16.649 48.792C416.356 256.348 421.715 307.227 421.715 307.227S416.894 314.501 415.065 316.758C412.451 319.981 403.705 328.862 403.705 328.862S399.126 317.753 397.232 314.23C395.539 311.08 389.514 302.191 389.514 302.191z" style="fill:#fff;fill-rule:nonzero"/></g></svg>
</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse flex-grow-0" id="navbarToggler">
<ul class="nav nav-pills flex-column flex-lg-row">
<li class="nav-item">
<a href="/download.html" class="nav-link" aria-current="page">Download</a>
<li class="nav-item">
<a href="/features.html" class="nav-link" aria-current="page">Features</a>
<li class="nav-item">
<a href="/blog" class="nav-link" aria-current="page">Blog</a>
<li class="nav-item">
<a href="https://www.apiman.io/apiman-docs/" class="nav-link" aria-current="page">Documentation</a>
<li class="nav-item">
<a href="/community.html" class="nav-link" aria-current="page">Community</a>
<li class="nav-item">
<a href="/support.html" class="nav-link" aria-current="page">Support</a>
</ul>
</div>
</nav>
</div>
<div class="container-fluid">
<div class="mw-1200 mx-auto my-5 row">
<aside class="col-lg-2 d-lg-block d-none">
<div class="list-group justify-content-center sticky-top ps-0" id="generic-sidebar">
<a href="https://www.github.com/apiman/apiman/issues" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-bug"></i> Found an Issue?
</a>
<a href="/changelog.html" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-book"></i> Changelog
</a>
<a href="https://www.github.com/apiman/apiman" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-github"></i> Source Code
</a>
<a href="https://www.github.com/apiman/apiman-plugins" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-plugin"></i> Apiman Plugins
</a>
<a href="https://www.github.com/apiman/apiman-docker" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-docker"></i> Docker Images
</a>
<a href="https://github.com/apiman/apiman/releases" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-clock"></i> Older Releases
</a>
<a href="https://github.com/orgs/apiman/discussions" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-chat-left-text"></i> Discussions
</a>
<a href="https://www.twitter.com/apiman_io" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-twitter"></i> Twitter
</a>
<a href="https://www.apiman.io/apiman-docs/migration-guide/latest/migrations.html" class="list-group-item list-group-item-action" target="_blank" rel="noopener">
<i class="bi bi-paper-plane"></i> Migration Guide
</a>
</div>
</aside>
<div class="col-lg-10 col-sm-12">
<main class="mw-900">
<article itemscope itemtype="https://schema.org/BlogPosting">
<h1 itemprop="headline">The JBoss Apiman API Manager REST API</h1>
<div class="text-secondary"><span itemprop="datePublished">19 May 2015</span> · <span itemprop="keywords">rest, api, automation</span></div>
<div class="d-flex py-2 mb-4 mt-3 border-top border-bottom mb-2" id="author-holder">
<img class="rounded-3 align-self-center" width="80rem" src="https://avatars.githubusercontent.com/u/642621" alt="Avatar for Len DiMaggio">
<div class="d-flex flex-column ms-2 justify-content-evenly">
<div class="text-secondary d-none d-sm-block">Quality engineering legend and prolific technical writer.</div>
<div class="fs-5">
<a class="link-dark" rel="author" href="https://github.com/ldimaggi" target="_blank" itemprop="author">Len DiMaggio</a>
<span class="apiman-title-secondary" style="white-space:nowrap">
<span class="d-none d-sm-inline">/</span>
Red Hat
<span class="d-none d-sm-inline">/</span>
</span>
<span style="white-space:nowrap">
<span><a class="link-secondary ps-1" href="https://github.com/ldimaggi" target="_blank"><i class="bi bi-globe"></i></a></span>
<span><a class="link-secondary ps-1" href="https://www.github.com/ldimaggi" target="_blank"><i class="bi bi-github"></i></a></span>
<span><a class="link-secondary ps-1" href="mailto:ldimaggi@redhat.com" target="_blank"><i class="bi bi-envelope-at-fill"></i></a></span>
</span>
</div>
</div>
</div>
<div class="blog-content" itemprop="articleBody">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this, the third article in our series on apiman, JBoss' new open source API Management framework, we&#8217;ll examine apiman&#8217;s API Manager REST API. apiman&#8217;s Management UI utilizes this API in the implementation for all of its user-visible features, and you can also use the same API to automate tasks with apiman.
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It&#8217;s inevitable that, after you work with a product&#8217;s UI for a while that you encounter tasks that are better suited to a scripting or batch interface. For example, if you have to perform a similar task for a large of related data items, the time that it can require to perform these tasks through an interactive UI can be prohibitive. Also, it&#8217;s easy for repetitive tasks to become error-prone as you can lose focus, even if you are working in a well designed and easy to use interface such as apiman.
</div>
<div class="paragraph">
<p>One solution to this problem is to augment the UI with a command line or scripting interface. This can lead to a whole separate set of issues if the new interface is built on a different set of underlying routines than the UI. A better approach to allow access to the same routines in which the UI is constructed. This approach removes any duplication, and also enables you to replicate manual UI based tasks with automated or scripted tools.
</div>
<div class="paragraph">
<p>JBoss apiman follows this second approach with its REST interface. All the services provided by apiman in its Management UI are directly supported in the API Manager REST API. You can also directly access these same services through the REST API.
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Like a lot of things with JBoss open source software, installing the REST API is easy. In fact, if you have apiman installed, then you already have the REST API installed. (You can&#8217;t get much easier than that!)
</div>
<div class="paragraph">
<p>We covered installing apiman in the first article in this series (see: <a href="https://java.dzone.com/articles/impatient-new-users" class="bare">https://java.dzone.com/articles/impatient-new-users</a>), so we won&#8217;t repeat that information here. A minimal set of install instructions are always available on the apiman site (<a href="https://www.apiman.io/latest/" class="bare">https://www.apiman.io/latest/</a>). The current set of instructions as of this writing are:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir ~/apiman-1.1.2.Final +
cd ~/apiman-1.1.2.Final +
wget https://download.jboss.org/wildfly/8.2.0.Final/wildfly-8.2.0.Final.zip +
wget https://downloads.jboss.org/apiman/1.1.2.Final/apiman-distro-wildfly8-1.1.2.Final-overlay.zip +
unzip wildfly-8.2.0.Final.zip +
unzip -o apiman-distro-wildfly8-1.1.2.Final-overlay.zip -d wildfly-8.2.0.Final +
cd wildfly-8.2.0.Final +
./bin/standalone.sh -c standalone-apiman.xml +</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that our apiman server is up and running, we can start to access the API Manager REST API. However, before we start placing calls to APIs through the REST API, let&#8217;s take a look at how the API is organized.
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-organization-of-the-api"><a class="anchor" href="#the-organization-of-the-api"></a>The Organization of the API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The documentation for the apiman REST API is available (for free, of course), here: <a href="https://www.apiman.io/latest/api-manager-restdocs.html" class="bare">https://www.apiman.io/latest/api-manager-restdocs.html</a>
</div>
<div class="paragraph">
<p>The services and their endpoints represented in the API are divided into these groups:
</div>
<div class="ulist">
<ul>
<li>
<p>actions - The actions endpoint (<a href="http://localhost:8080/apiman/actions/" class="bare">http://localhost:8080/apiman/actions/</a>) enables you to execute actions for apiman entities (such as plans, APIs, applications, etc.)
<li>
<p>system/status - The system/status endpoint (<a href="http://localhost:8080/apiman/system/status" class="bare">http://localhost:8080/apiman/system/status</a>) enables you to query the current state of the apiman system.
<li>
<p>currentuser - The currentuser endpoint (<a href="http://localhost:8080/apiman/currentuser/info" class="bare">http://localhost:8080/apiman/currentuser/info</a>) enables you to obtain or update information about the current user. This information is related to the user&#8217;s applications, APIs, organizations, etc.
<li>
<p>gateways - The gateways endpoint (<a href="http://localhost:8080/apiman/gateways/" class="bare">http://localhost:8080/apiman/gateways/</a>) enables you to obtain information about an API Gateway, and to delete or create new gateways.
<li>
<p>organizations - The organizations endpoint (<a href="http://localhost:8080/apiman/organizations/" class="bare">http://localhost:8080/apiman/organizations/</a>) enables you to obtain information about existing organizations and to create new organizations.
<li>
<p>permissions - The permissions endpoint (<a href="http://localhost:8080/apiman/permissions/" class="bare">http://localhost:8080/apiman/permissions/</a>) enables you to obtain information about user&#8217;s permissions.
<li>
<p>plugins - The plugins endpoint (<a href="http://localhost:8080/apiman/plugins/" class="bare">http://localhost:8080/apiman/plugins/</a>) enables you to obtain information about installed plugins, and to install new plugins.
<li>
<p>policyDefs - The policyDefs endpoint (<a href="http://localhost:8080/apiman/policyDefs/" class="bare">http://localhost:8080/apiman/policyDefs/</a>) enables you to obtain information about existing policy definitions, and to define new policy definitions.
<li>
<p>roles - The roles endpoint (<a href="http://localhost:8080/apiman/roles/" class="bare">http://localhost:8080/apiman/roles/</a>) enables you to obtain information about existing roles, update roles, and delete roles.
<li>
<p>search - The search endpoint (<a href="http://localhost:8080/apiman/search/" class="bare">http://localhost:8080/apiman/search/</a>) enables you to search for applications, organizations, or APIs.
<li>
<p>users - The users endpoint (<a href="http://localhost:8080/apiman/users/" class="bare">http://localhost:8080/apiman/users/</a>) enables you to search for information about users, including their applications and APIs.
</ul>
</div>
<div class="paragraph">
<p>Within each group, GET operations are defined to return information, and GET and POST operations are defined to make changes to apiman elements. Data passed to and returned from services through the API is in the form of JSON along with a return code.
</div>
</div>
</div>
<div class="sect1">
<h2 id="accessing-apis-in-the-api-manager-rest-api"><a class="anchor" href="#accessing-apis-in-the-api-manager-rest-api"></a>Accessing APIs in the API Manager REST API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The best way to learn about the API Manager REST API is to see it in action. Since these are REST APIs, it&#8217;s easy to access them. For example, we should be able to access the system status service with a simple GET operation at this endpoint:
</div>
<div class="paragraph">
<p><a href="http://localhost:8080/apiman/system/status" class="bare">http://localhost:8080/apiman/system/status</a>
</div>
<div class="paragraph">
<p>Let&#8217;s try this with curl. If we execute the following command, we should see the current system status:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X GET http://localhost:8080/apiman/system/status</code></pre>
</div>
</div>
<div class="paragraph">
<p>Well, that error is not exactly what we expected. There was no output.
</div>
<div class="paragraph">
<p>What went wrong? What&#8217;s missing? The answer is that our call to the API was missing authorization. In the same way that a user must login and be authorized to use the apiman Management UI, calls to the REST API must be authorized.
</div>
<div class="paragraph">
<p>For our example, we&#8217;ll keep things simple and stick to using basic authorization. (We&#8217;ll take a more extensive look at apiman and security in a later article in this series.)
</div>
<div class="paragraph">
<p>In order to resolve this failure, we have to send a properly encoded basic authorization header with every request you make. In Java8, we can generate a key by base64 encoding this string for the OOTB admin username and password: admin:admin123! with this statememt:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">base64encode(concat('admin', ':', 'admin123!'))</code></pre>
</div>
</div>
<div class="paragraph">
<p>This yields a key with a value of: <code>YWRtaW46YWRtaW4xMjMh</code>
</div>
<div class="paragraph">
<p>Now, let&#8217;s try that curl command again, but this time, we&#8217;ll include the key in the authorization header:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -H "Authorization: Basic YWRtaW46YWRtaW4xMjMh" http://localhost:8080/apiman/system/status</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the result is:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"up":true,"version":"1.1.2-SNAPSHOT"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we mentioned earlier in this article, the responses returned by calls to the REST API are in in the form of JSON. In the case of our call to the <a href="http://localhost:8080/apiman/system/status" class="bare">http://localhost:8080/apiman/system/status</a> endpoint, the expected format of the response is:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">{
  "version" : String,
  "up" : Boolean
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s carry on by looking at a more extensive example, where we use the REST API to automate a task that would be tedious if performed in the apiman Management UI.
</div>
</div>
</div>
<div class="sect1">
<h2 id="a-larger-example"><a class="anchor" href="#a-larger-example"></a>A Larger Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s say that you want to create multiple new organizations. You could of course manually enter these into the apiman Management UI. But, if you have a large number of organizations, for example, one for each of the countries in the EU, or each of the states in the USA, this would be a tedious and error-prone task. This is an ideal candidate task for automation with the REST API.
</div>
<div class="paragraph">
<p>The coding for this example is simple. All you have to do is account for the encoding of the authorization to access the API Manager REST API, and pass the information related to each organization that you create to this endpoint: <a href="http://localhost:8080/apiman/organizations" class="bare">http://localhost:8080/apiman/organizations</a>
</div>
<div class="paragraph">
<p>Here&#8217;s an example program with an ice hockey flavor - the highlights are noted below:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package apimanExample;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.net.HttpURLConnection;
import java.net.URL;
import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class SimplePutOrg {

  // ...
  public static void main(String[] args) throws Exception {

      String [ ] [ ] originalSix = { <i class="conum" data-value="1"></i><b>(1)</b>
          { "Boston", "Chicago", "Detroit", "Montreal", "New York", "Toronto"},
          { "Bruins", "BlackHawks", "Red Wings", "Canadiens", "Rangers", "Maple Leafs"}
      };
      for (int i = 0; i &lt; 6; i++) {
          System.out.println ("Creating new apiman org for: " + originalSix [0][i] + ":" + originalSix [1][i]);
          System.out.println ("Return code = " + createNewOrg (originalSix [0][i], originalSix [1][i]));
      }
  }

  private static int createNewOrg (String newOrgName, String newOrgDescription) throws IOException {
      URL url = new URL("http://localhost:8080/apiman/organizations"); <i class="conum" data-value="2"></i><b>(2)</b>

      Base64.Encoder encoder = Base64.getEncoder(); <i class="conum" data-value="3"></i><b>(3)</b>
      String normalString = "admin:admin123!";
      String encodedString = encoder.encodeToString(normalString.getBytes(StandardCharsets.UTF_8));

      HttpURLConnection connection = (HttpURLConnection) url.openConnection(); <i class="conum" data-value="4"></i><b>(4)</b>
      connection.setRequestProperty("Authorization", "Basic "  + encodedString);
      connection.setRequestMethod("POST"); <i class="conum" data-value="5"></i><b>(5)</b>
      connection.setDoOutput(true);
      connection.setRequestProperty("Content-Type", "application/json");
      connection.setRequestProperty("Accept", "application/json");

      OutputStreamWriter osw = new OutputStreamWriter(connection.getOutputStream()); <i class="conum" data-value="6"></i><b>(6)</b>
      osw.write(String.format("{\"name\":\"" + newOrgName + " a new org\",\"description\":\"" + newOrgDescription + "\"}"));
      osw.flush();
      osw.close();

      return connection.getResponseCode();
  }

}
// ...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b>
<td>Here&#8217;s where we define the test data. For this example, we&#8217;ll use the National Hockey League&#8217;s "original 6" teams.
<tr>
<td><i class="conum" data-value="2"></i><b>2</b>
<td>Here&#8217;s the URL for the service to which we&#8217;ll connect to create the new organizations.
<tr>
<td><i class="conum" data-value="3"></i><b>3</b>
<td>Here&#8217;s where we set up the encoding for the BASIC authorization.
<tr>
<td><i class="conum" data-value="4"></i><b>4</b>
<td>And here&#8217;s where we create the HttpURLConnection that we will use to connect to the service.
<tr>
<td><i class="conum" data-value="5"></i><b>5</b>
<td>Note that we will be performing a POST operation.
<tr>
<td><i class="conum" data-value="6"></i><b>6</b>
<td>And finally, here&#8217;s where we connect to the service and send our POST requests to create the new organizations.
</table>
</div>
<div class="paragraph">
<p>When we run this example, the following output indicates that the calls to the service through the REST API were successful, based on the return code of 200:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">Creating new apiman org for: Boston:Bruins
Return code = 200
Creating new apiman org for: Chicago:BlackHawks
Return code = 200
Creating new apiman org for: Detroit:Red Wings
Return code = 200
Creating new apiman org for: Montreal:Canadiens
Return code = 200
Creating new apiman org for: New York:Rangers
Return code = 200
Creating new apiman org for: Toronto:Maple Leafs
Return code = 200</code></pre>
</div>
</div>
<div class="paragraph">
<p>And - here&#8217;s the server output that tracks the creation of the new organizations:
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">21:17:53,205 INFO [stdout] (default task-19) Created organization Boston a new org: OrganizationBean [id=Bostonaneworg, name=Boston a new org, description=Bruins, createdBy=admin, createdOn=Sun May 17 21:17:53 GMT-05:00 2015, modifiedBy=admin, modifiedOn=Sun May 17 21:17:53 GMT-05:00 2015]
21:17:53,233 INFO [stdout] (default task-21) Created organization Chicago a new org: OrganizationBean [id=Chicagoaneworg, name=Chicago a new org, description=BlackHawks, createdBy=admin, createdOn=Sun May 17 21:17:53 GMT-05:00 2015, modifiedBy=admin, modifiedOn=Sun May 17 21:17:53 GMT-05:00 2015]
21:17:53,253 INFO [stdout] (default task-23) Created organization Detroit a new org: OrganizationBean [id=Detroitaneworg, name=Detroit a new org, description=Red Wings, createdBy=admin, createdOn=Sun May 17 21:17:53 GMT-05:00 2015, modifiedBy=admin, modifiedOn=Sun May 17 21:17:53 GMT-05:00 2015]
21:17:53,275 INFO [stdout] (default task-25) Created organization Montreal a new org: OrganizationBean [id=Montrealaneworg, name=Montreal a new org, description=Canadiens, createdBy=admin, createdOn=Sun May 17 21:17:53 GMT-05:00 2015, modifiedBy=admin, modifiedOn=Sun May 17 21:17:53 GMT-05:00 2015]
21:17:53,295 INFO [stdout] (default task-27) Created organization New York a new org: OrganizationBean [id=NewYorkaneworg, name=New York a new org, description=Rangers, createdBy=admin, createdOn=Sun May 17 21:17:53 GMT-05:00 2015, modifiedBy=admin, modifiedOn=Sun May 17 21:17:53 GMT-05:00 2015]
21:17:53,316 INFO [stdout] (default task-29) Created organization Toronto a new org: OrganizationBean [id=Torontoaneworg, name=Toronto a new org, description=Maple Leafs, createdBy=admin, createdOn=Sun May 17 21:17:53 GMT-05:00 2015, modifiedBy=admin, modifiedOn=Sun May 17 21:17:53 GMT-05:00 2015]</code></pre>
</div>
</div>
<div class="paragraph">
<p>And finally, here are the organizations as displayed in the apiman Management UI:
</div>
<div class="imageblock">
<div class="content">
<img src="/assets/images/blog/2015-05-19/new-organizations.png" alt="new organizations">
</div>
</div>
<div class="paragraph">
<p>(It&#8217;s been a tough year for Boston Bruins&#8217; fans. It&#8217;s nice to see the team listed first, even if it&#8217;s just an alphabetic list. ;-)
</div>
</div>
</div>
<div class="sect1">
<h2 id="in-conclusion"><a class="anchor" href="#in-conclusion"></a>In Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The architecture of the apiman Management UI is that the UI is built on top of a REST API. This architecture makes it possible for you to directly access the services exposed by the API, and enables you to automate the tasks that you perform in the UI.
</div>
</div>
</div>
</div>
</article>
</main>
</div>
</div>
</div>
<footer id="apiman-footer" class="p-2 mt-2 mx-auto mw-1350">
<p>
Apiman code is open source and licensed under the <a class="link-dark" href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener">Apache License, v2.0</a>.
<p>The Apiman project was started by Red Hat, although they are no longer directly involved in the project. The project is actively maintained by the community.
<p>Copyright © 2022 Apiman Community & <a class="link-dark" href="https://www.redhat.com/en/about/terms-use" target="_blank" rel="noopener">Red Hat</a>.
<p>
Website was created with 🖤 by Marc Savy of <a class="footer-href" href="https://www.blackparrotlabs.io" target="_blank" rel="noopener">Black Parrot Labs</a> using <a class="footer-href" href="https://www.jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> and <a class="footer-href" href="https://www.getbootstrap.com" target="_blank" rel="noopener">Bootstrap</a>,
and contributed to the Apiman community under the <a class="link-dark" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC BY-SA 4.0</a> license.
</footer>
</div>
<script>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script>
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-TRD82LC9Y2")</script>
</body>
</html>