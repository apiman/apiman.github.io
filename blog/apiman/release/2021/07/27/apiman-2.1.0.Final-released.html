<!DOCTYPE html>
<html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="msvalidate.01" content="C3BF2C67B92C75F2DEAA096973652038" />
  <link rel="shortcut icon" href="https://www.apiman.io/latest/resources/images/favicon.ico">
  <title>Apiman 2.1.0.Final has been released üöÄ | apiman Open Source API Management</title>
  <meta name="description" content="I‚Äôm very pleased to say that we‚Äôve released Apiman 2.1.0.Final üëè. We‚Äôve splatted a huge number of bugs and made a lot of improvements to stability, performan...">

  <!-- CSS -->
  <link href="https://www.apiman.io/latest/resources/bootstrap-3.3.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://www.apiman.io/latest/resources/patternfly-1.0.5/css/patternfly.min.css" rel="stylesheet">
  <link href="https://static.jboss.org/css/rhbar.css" media="screen" rel="stylesheet">
  <link href="https://www.apiman.io/latest/resources/css/apiman-web.css?v=1.2.7.Final" rel="stylesheet">
  <link href="https://www.apiman.io/latest/resources/css/apiman-web.responsive.css?v=1.2.7.Final" rel="stylesheet">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="/blog/css/highlight.css" rel="stylesheet">
  <link href="/blog/css/main.css" rel="stylesheet">
  <link href="/blog/css/coderay-asciidoctor.css" rel="stylesheet">


  <!-- Scripts -->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <script src="https://www.apiman.io/latest/resources/jquery-1.11.1/js/jquery.min.js"></script>
  <script src="https://www.apiman.io/latest/resources/bootstrap-3.3.0/js/bootstrap.min.js"></script>
  <script id="dsq-count-scr" src="//apiman.disqus.com/count.js" async></script>

  <!-- Canonical URL --><link rel="canonical" href="https://apiman.io/blog/apiman/release/2021/07/27/apiman-2.1.0.Final-released.html"><link rel="alternate" type="application/rss+xml" title="Apiman Blog | Open Source API Management" href="https://apiman.io/blog/feed.xml" />


  <!-- Google Analytics -->
  <script>
    $(document).ready(function() {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-56678850-1', 'auto');
      ga('send', 'pageview');
    });
  </script>
  <script id="adobe_dtm" src="//www.redhat.com/dtm.js" type="text/javascript"></script>
</head>
<body class="blog"><nav id="top-nav" class="navbar navbar-inverse" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.apiman.io/latest/index.html">apiman</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="top-menu-item menu-item"><a href="https://www.apiman.io/latest/index.html">Overview</a></li>
        <li class="top-menu-item menu-item"><a href="https://www.apiman.io/latest/download.html">Download</a></li>
        <li class="top-menu-item menu-item"><a href="https://www.apiman.io/latest/roadmap.html">Roadmap</a></li>
        <li class="top-menu-item menu-item active"><a href="https://www.apiman.io/blog/">Blog</a></li>
        <li class="top-menu-item menu-item dropdown">
            <a href="" class="dropdown-toggle" data-toggle="dropdown">Get Involved<b class="caret"></b></a>
            <ul class="dropdown-menu">
                <li class="menu-item">
                    <a href="https://github.com/apiman/apiman/issues">Report a Bug</a>
                </li>
                <li class="menu-item">
                    <a href="https://twitter.com/apiman_io" rel="nofollow" target="_blank">Twitter Feed</a>
                </li>
                <li class="divider"></li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/contributors.html">Contributors List</a>
                </li>
            </ul>
        </li>
        <li class="top-menu-item menu-item dropdown">
            <a href="" class="dropdown-toggle" data-toggle="dropdown">Learn More<b class="caret"></b></a>
            <ul class="dropdown-menu">
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/tutorials.html">Tutorials &amp; Walkthroughs</a>
                </li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/crash-course.html">Crash Course!</a>
                </li>
                <li class="divider"></li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/installation-guide.html">Installation Guide</a>
                </li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/user-guide.html">User Guide</a>
                </li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/developer-guide.html">Developer Guide</a>
                </li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/production-guide.html">Production Guide</a>
                </li>
                <li class="divider"></li>
                <li class="menu-item">
                    <a href="https://www.apiman.io/latest/api-manager-restdocs.html">API Manager REST Endpoints</a>
                </li>
            </ul>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>
<div class="container" id="blog">
      <div class="blog-content">
        <div class="post">
  <header class="post-header" style="margin-top: 25px">
    <h1 style="color: #666; font-weight: bold" class="post-title section-header">Apiman 2.1.0.Final has been released üöÄ</h1>
    <span style="color: #243446; font-size: 13px"><i class="fa fa-calendar"></i> Jul 27, 2021</span>
    <span style="color: #243446; margin-left: 15px; font-size: 13px"><i class="fa fa-user"></i> <a href="https://github.com/msavy">Marc Savy</a></span>
    <span style="color: #243446; margin-left: 15px; font-size: 13px"><i class="fa fa-tags"></i> apiman and release</span>
  </header><article class="post-content"
           style="margin-top: 20px; font-size: 14px; line-height: 20px">
    <p>I‚Äôm very pleased to say that we‚Äôve released Apiman 2.1.0.Final üëè. We‚Äôve splatted a huge number of bugs and made a lot of improvements to stability, performance, and security.</p>

<p>Please <a href="https://www.apiman.io/apiman-docs/core/2.1.0.Final/migration/migrations.html">consult the migration guide here</a> if you are planning to upgrade from an earlier version if Apiman (especially if you‚Äôre using Elasticsearch).</p>

<p>Apiman now can run on any currently released version of Java (assuming the underlying platform can, of course).</p>

<p>You can see all of the things we‚Äôve fixed in Apiman 2.1.0.Final, <a href="https://github.com/apiman/apiman/releases/tag/2.1.0.Final" target="_blank" rel="nofollow">and you can download the latest overlays, etc, over on our GitHub repo</a>.</p>

<p>If you prefer the Apiman website, <a href="https://www.apiman.io/latest/download.html">it‚Äôs available right away on the downloads page.</a>.</p>

<p>As usual, there are some simple Docker quickstart images available: <code class="highlighter-rouge">docker run -it -p 8080:8080 -p 8443:8443 apiman/on-wildfly:2.1.0.Final</code>.</p>

<p>A lot of work has gone into this release and we‚Äôre just getting started üèÉ‚Äç‚ôÇÔ∏è.</p>

<p>Let us know how you find Apiman 2.1.0!</p>

<!--more-->

<h2 id="notes">Notes</h2>

<h3 id="improvements-to-logging">Improvements to logging</h3>

<p>If you are a developer writing any kind of code for Apiman (including Apiman plugins or components), you can now instantiate a logger in a more pain-free way than before.</p>

<p>Simply do:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">static</span> <span class="kd">final</span> <span class="n">IApimanLogger</span> <span class="n">LOGGER</span> <span class="o">=</span> <span class="n">ApimanLoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">klazz</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div></div>

<p>For all distros we ship, we set an appropriate system property to ensure that logging is available and set up as early as possible. But if you implement your own platform or want to override the default logger for a given platform, you can do so by altering the following system property:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">apiman.logger-delegate</span><span class="p">=</span><span class="s">&lt;name of logging delegate&gt;</span>
</code></pre></div></div>

<p>Currently the valid values are: <code class="highlighter-rouge">log4j2</code>, <code class="highlighter-rouge">jboss-logging</code>, <code class="highlighter-rouge">slf4j</code>, <code class="highlighter-rouge">sout</code>, <code class="highlighter-rouge">noop</code>).</p>

<p>You can create your own logger factory if you want, but I‚Äôll save the details of how to do this for a future blog (and update the docs üñä).</p>

<p>Check out the log4j2 config that ships with the Apiman Vert.x Gateway for an example logger config that uses async logging to improve log performance considerably.</p>

<h3 id="elasticsearch-changes-again">Elasticsearch changes (again).</h3>

<p>Apiman 2.0.0.Final had errors in its Manager Elasticsearch schema definition (metrics + gateway was fine). This has been fixed, but there‚Äôs no compatible way to auto-migrate, so you‚Äôll need to export and import.</p>

<p>If you‚Äôre moving from older versions of Apiman (1.x), the Elasticsearch version used has been upgraded ‚Äì and that in turn causes incompatibilities (this time it‚Äôs not our fault!). Some effort from an administrator is required to upgrade the cluster. Unfortunately upgrading ES clusters has become non-trivial over the years and care is required.</p>

<p>Check out the <a href="https://www.apiman.io/apiman-docs/core/2.1.0.Final/migration/migrations.html#_migrating_to_2_1_0_final">migration guide for all the details</a>.</p>

<h3 id="antora-based-docs">Antora-based docs</h3>

<p>We‚Äôve worked hard to <a href="https://github.com/apiman/apiman-docs" target="_blank" rel="nofollow">migrate from GitBook to Antora</a>. GitBook no longer supports Asciidoc. We appreciate their support over the years.</p>

<h3 id="support-java-11">Support Java 11+</h3>

<p>Apiman‚Äôs codebase now works on all currently released versions of Java. Naturally, depending which platform you‚Äôre running on, you may be limited to a particular version (e.g. Wildfly, Tomcat, etc).</p>

<h3 id="apiman-parent--bom">Apiman Parent / BOM</h3>

<p>We now have a new <code class="highlighter-rouge">apiman-parent</code> which allows synchronisation of dependency versions between Apiman projects. This is of particular benefit to <code class="highlighter-rouge">apiman-plugins</code>. Plugin authors can use this to harmonise versions and reduce the risk of any incompatibilities.</p>

<h3 id="maven-wrapper">Maven Wrapper</h3>

<p>We‚Äôve added Maven Wrapper. You can use this to ensure you build using the same version of Maven that the Apiman team uses. Simply run your build with <code class="highlighter-rouge">./mvnw</code> instead of <code class="highlighter-rouge">mvn</code> in Apiman‚Äôs top-level directory.</p>

<h3 id="tomcat-is-back">Tomcat is back</h3>

<p>In the 2.0.0.Final release, Tomcat was cut as a main distro. By popular demand, it‚Äôs back and has been updated with all of the latest-and-greatest Apiman features (e.g. logging with log4j2 by default now).</p>

<h3 id="swaggerwsdl-definitions-now-show-in-apiman-exports">Swagger/WSDL definitions now show in Apiman exports</h3>

<p>In older Apiman releases we mistakenly did not include API definitions in Apiman export files. This meant that when you exported and imported they would vanish.</p>

<p>We‚Äôve fixed this in Apiman 2.1.0.Final, but also provided a migration tool to ‚Äòenrich‚Äô the JSON exported by older versions with the missing data.</p>

<p><a href="https://www.apiman.io/apiman-docs/core/2.1.0.Final/migration/migrations.html#_migrating_to_2_1_0_final">Refer to the migration guide to see how to do this.</a></p>

<h3 id="removed-some-unused-bits">Removed some unused bits</h3>

<p>We‚Äôve removed Hawkular and some other unused components. Nobody was using them, as far as we were able to ascertain.</p>

<h3 id="ui-fixes">UI fixes</h3>

<p>A bunch of UI bugs have been fixed that were causing strange glitches in 2.0.0.Final. Some nice shortcut navigation sidebars have been added.</p>

<h3 id="regressions">Regressions</h3>

<p>Some contributions in 2.0.0.Final caused some issues that have now been fixed.</p>

<p>The most significant one was the Elasticsearch schema causing problems. Unfortunately to fix this you will need to re-import your data. Please refer to the migration guide.</p>

<p>Various issues in the UI that have been fixed (see above).</p>

<p>It was not possible to use ES Metrics and a non-ES API Manager datastore at the same time. This is no longer the case and now works as expected again (e.g. RDBMS + ES works).</p>

<h3 id="bringing-dependencies-up-to-date">Bringing dependencies up to date</h3>

<p>Most dependencies have been brought right up to date (with the exception of the UI where this isn‚Äôt currently essential). This is important for security, performance, and stability - and enabling Apiman to run on newer versions of Java.</p>

<h3 id="lots-more">Lots more</h3>

<p>A large amount of work went into this release. Check out the GitHub release notes and commit log if you‚Äôre curious.</p>

  </article><div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = '';
        this.page.identifier = '/apiman/release/2021/07/27/apiman-2.1.0.Final-released';
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//apiman.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

      </div>
      <div class="blog-footer"><footer role="contentinfo">
    <div id="inner-footer" class="clearfix row">
        <div id="widget-footer" class="clearfix">
            <hr>
            <div class="widget col-sm-6 col-md-6 widget_text">
                <div class="textwidget">
                    <p>
                        Copyright &copy; 2017 Red Hat, Inc. All rights reserved.<br>
                        apiman code is open source and released under <a href="https://www.apache.org/licenses/LICENSE-2.0.html" rel="nofollow" target="_blank">Apache License, v2.0</a>.<br>
                        <a href="/latest/disclosure.html">Open Source Disclosure</a>
                    </p>
                </div>
            </div>
            <div class="widget col-sm-6 col-md-6 widget_text" style="text-align: right">
                <a href="https://www.redhat.com" rel="nofollow" target="_blank"><img src="https://static.jboss.org/theme/images/common/redhat_logo.png" alt="Red Hat"></a>
            </div>
        </div>
        <nav class="clearfix"></nav>
    </div>

    <!-- Adobe Analytics -->
    <script type="text/javascript">
      if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
          _satellite.pageBottom();
      }
    </script>
</footer>
</div>
    </div>
  </body>
</html>
